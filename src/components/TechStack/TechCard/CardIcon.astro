---
import { Sprite } from "astro-iconify";
import type { TechCardIcon } from "@data/TechStack/types";

interface Props {
  icon: TechCardIcon;
}

const {
  icon: { name, bgColor, color, invert },
} = Astro.props;
// https://icones.js.org/collection/logos

const bgColorLiteral =
  (bgColor &&
    bgColor !== "responsive" &&
    bgColor !== "transparent" && { backgroundColor: bgColor }) ||
  {};
const colorLiteral = (color && { color: color }) || {};
let iconStyles: any = Object.assign(bgColorLiteral, colorLiteral);
if (Object.keys(iconStyles).length === 0) {
  iconStyles = undefined;
}
---

<div
  class="border-secondary-focus bg-secondary absolute -top-3 -left-3 z-10 rounded-xl border p-1"
>
  <div
    class:list={[
      "rounded-lg",
      { "bg-base-200 dark:bg-neutral-700": bgColor === "responsive" },
    ]}
  >
    <Sprite
      name={name}
      class:list={["h-10 w-10 rounded-lg", { "dark:invert": invert }]}
      style={iconStyles}
    />
  </div>
</div>
